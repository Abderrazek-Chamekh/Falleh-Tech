<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>

<AnchorPane xmlns:fx="http://javafx.com/fxml" fx:controller="tn.esprit.controllers.TunisiaMapController">

    <ScrollPane fitToWidth="true" fitToHeight="true" pannable="true" prefWidth="1000" prefHeight="700">
        <content>
            <AnchorPane minWidth="900" minHeight="700">

                <!-- Background Map -->
                <ImageView fx:id="mapView"
                           fitWidth="900"
                           fitHeight="700"
                           preserveRatio="true"
                           pickOnBounds="true">
                    <image>
                        <Image url="/images/tunisia-map.png" />
                    </image>
                </ImageView>

                <!-- Dummy draggable circle used for percentage logic -->
                <Circle fx:id="dynamicPoint"
                        layoutX="430"
                        layoutY="120"
                        radius="6"
                        fill="blue"
                        stroke="white"
                        strokeWidth="2"
                        onMousePressed="#onCirclePressed"
                        onMouseDragged="#onCircleDragged"/>

                <!-- Overlay UI for filters -->
                <VBox spacing="10"
                      layoutX="700" layoutY="20"
                      style="-fx-background-color: rgba(255,255,255,0.85); -fx-padding: 15; -fx-border-radius: 10; -fx-background-radius: 10;">

                    <Label text="ðŸ›  CompÃ©tences:" />
                    <ComboBox fx:id="skillsDropdown" promptText="Choisir une compÃ©tence" />

                    <Label text="ðŸ“ˆ ExpÃ©rience:" />
                    <ComboBox fx:id="experienceDropdown" promptText="Niveau d'expÃ©rience" />

                    <Label text="ðŸ”¥ Pourcentage de match:" />
                    <Label fx:id="percentageLabel" text="0%" style="-fx-font-size: 18px; -fx-font-weight: bold;" />
                </VBox>

                <!-- All region points (red) -->
                <!-- Keep your original city points here below, unchanged -->
                <Circle fx:id="pointTunis" layoutX="430" layoutY="120" radius="6" fill="red" stroke="white" strokeWidth="2" onMousePressed="#onCirclePressed" onMouseDragged="#onCircleDragged"/>
                <!-- [ ... ALL OTHER CIRCLES ... ] -->
                <Circle fx:id="pointTataouine" layoutX="410" layoutY="340" radius="6" fill="red" stroke="white" strokeWidth="2" onMousePressed="#onCirclePressed" onMouseDragged="#onCircleDragged"/>

            </AnchorPane>
        </content>
    </ScrollPane>
</AnchorPane>
